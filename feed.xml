<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://abhilesh.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://abhilesh.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-03-28T14:48:25+00:00</updated><id>https://abhilesh.github.io/feed.xml</id><title type="html">blank</title><subtitle>Abhilesh Dhawanjewar | Homepage. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Docker for Bioinformatics</title><link href="https://abhilesh.github.io/blog/2025/docker-for-bioinformatics/" rel="alternate" type="text/html" title="Docker for Bioinformatics"/><published>2025-02-27T21:01:00+00:00</published><updated>2025-02-27T21:01:00+00:00</updated><id>https://abhilesh.github.io/blog/2025/docker-for-bioinformatics</id><content type="html" xml:base="https://abhilesh.github.io/blog/2025/docker-for-bioinformatics/"><![CDATA[<div class="row justify-content-center mt-3"> <div class="col-12 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover-480.webp 480w,/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover-800.webp 800w,/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Bioinformatics analysis often involves complex pipelines with rapidly evolving software tools, each with their own set of dependencies. System compatibility, version mismatches and dependency conflict issues can often be a nightmare, making running and sharing bioinformatic pipelines a challenging task. These challenges not only waste valuable research time but also contribute to irreproducible workflows, where results depend as much on the computing environment as on the analysis itself. Docker offers a powerful solution by packaging software and its dependencies into portable, reproducible containers—ensuring that your bioinformatics pipelines run consistently, whether on your local machine, an HPC cluster, or the cloud.</p> <h3 id="what-is-docker">What is Docker?</h3> <p>Imagine you’re baking a cake, but every time you try, your kitchen is missing key ingredients or uses a different oven that bakes at the wrong temperature. Docker is like a self-contained baking kit that comes with all the right ingredients, tools, and even its own portable oven, ensuring your cake turns out exactly the same no matter where you bake it. In bioinformatics, Docker does the same for software by packaging tools, dependencies, and environments so that analyses run reliably across different computing platforms.</p> <h3 id="how-can-docker-help">How can Docker help?</h3> <p>The <strong>FAIR</strong> (Findable, Accessible, Interoperable, and Reusable) principles provide guidelines for maximizing the value of research data. Docker aligns bioinformatics workflows with these principles by ensuring software and environments are portable and reproducible:</p> <ul> <li> <p><strong>Findability</strong>: Docker images can be easily found in registries like Docker Hub, with clear versioning and documentation for discovery.</p> </li> <li> <p><strong>Accessibility</strong>: Anyone with internet access and Docker installed can retrieve and use containerized tools, promoting open science.</p> </li> <li> <p><strong>Interoperability</strong>: Docker containers provide a consistent runtime environment across different systems, preventing dependency conflicts.</p> </li> <li> <p><strong>Reusability</strong>: Pre-built images allow researchers to reuse workflows without worrying about installation issues, fostering collaboration.</p> </li> </ul> <h3 id="getting-started">Getting Started</h3> <p>To begin, start by installing Docker on your system. Docker is available for all major operating systems and the installers can be downloaded from the <a href="https://www.docker.com/get-started/">official website</a>. For Windows and macOS users, the recommended approach is to install the Docker Desktop application, while Linux users can install Docker natively for a more lightweight setup.<d-footnote>Docker Desktop creates a Linux virtual machine (VM) on Windows and macOS to run containers, whereas on a Linux machine, Docker runs natively without the need for a VM.</d-footnote></p> <hr style="grid-column: text; width: 100%; border: none; border-bottom: 1px solid rgba(0, 0, 0, 0.1); margin-top: 1rem; margin-bottom: 1rem;"/> <ul id="docker-os-install" class="tab" data-tab="366c8e0c-3fe4-4465-b43b-243ecccb6253" data-name="docker-os-install"> <li class="active" id="docker-os-install-macos"> <a href="#">MacOS </a> </li> <li id="docker-os-install-windows"> <a href="#">Windows </a> </li> <li id="docker-os-install-linux"> <a href="#">Linux </a> </li> </ul> <ul class="tab-content" id="366c8e0c-3fe4-4465-b43b-243ecccb6253" data-name="docker-os-install"> <li class="active"> <ul> <li>Download the <a href="https://docs.docker.com/desktop/setup/install/mac-install/">Docker Desktop installer for MacOS</a></li> <li>Follow the setup instructions to install Docker.</li> <li>Docker Desktop can now be launched by clicking the application icon.</li> </ul> </li> <li> <ul> <li>Download the <a href="https://docs.docker.com/desktop/setup/install/windows-install/">Docker Desktop installer for Windows</a></li> <li>Follow the setup instructions to install Docker.</li> <li>Docker Desktop can now be launched by clicking the application icon.</li> </ul> </li> <li> <p>Assuming a Debian-based Linux distribution (e.g., Ubuntu):</p> <ul> <li> <p>Open a terminal and run the following commands</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Update package index and install docker</span>
<span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>docker.io
</code></pre></div> </div> </li> <li> <p>Add your user to the <code class="language-plaintext highlighter-rouge">docker</code> group to run Docker commands without <code class="language-plaintext highlighter-rouge">sudo</code></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="k">${</span><span class="nv">whoami</span><span class="k">}</span>
</code></pre></div> </div> </li> <li> <p>Log out and log back in to apply the changes</p> </li> </ul> <p><strong><em>Note:</em></strong> If you do not have <code class="language-plaintext highlighter-rouge">sudo</code> privileges, you can install Docker using the <a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-convenience-script">official script</a>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Download the Docker installation script</span>
curl <span class="nt">-fsSL</span> https://get.docker.com <span class="nt">-o</span> get-docker.sh

<span class="c"># Append --dry-run to see the commands that will be executed</span>
<span class="nb">sudo </span>sh get-docker.sh
</code></pre></div></div> </li> </ul> <hr style="grid-column: text; width: 100%; border: none; border-bottom: 1px solid rgba(0, 0, 0, 0.1); margin-top: 1rem; margin-bottom: 1rem;"/> <p><br/> To test whether Docker is installed correctly, run the following command in your terminal:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check Docker version</span>
docker <span class="nt">--version</span>

<span class="c"># Test with a simple hello-world container</span>
docker run hello-world
</code></pre></div></div> <p>There are other ways to run containers, and you can experiment with these as you get more comfortable with Docker.</p> <h3 id="running-bioinformatics-tools-with-docker">Running Bioinformatics Tools with Docker</h3> <p>We will use the popular tool <a href="http://www.htslib.org/"><code class="language-plaintext highlighter-rouge">samtools</code></a> as an example to demonstrate how to run bioinformatics tools using Docker. <code class="language-plaintext highlighter-rouge">samtools</code> is a widely used tool for working with Sequence Alignment/Map (SAM) and Binary Alignment/Map (BAM) files.</p> <ol> <li> <p><strong>Pull a Docker Image</strong></p> <p>Here, we will pull a Docker image for <a href="https://hub.docker.com/r/biocontainers/samtools"><code class="language-plaintext highlighter-rouge">samtools</code></a> from Docker Hub.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pull the samtools image from Docker Hub</span>
docker pull biocontainers/samtools
</code></pre></div> </div> <p>This command will download the <code class="language-plaintext highlighter-rouge">samtools</code> image and its dependencies to your local machine. We can then use the image to create containers.</p> </li> <li> <p><strong>Run a single command non-interactively</strong></p> <p>We will use <code class="language-plaintext highlighter-rouge">samtools</code> to view the first few lines of a BAM file. Replace <code class="language-plaintext highlighter-rouge">/data_dir</code> with the path to the folder containing your BAM file (<code class="language-plaintext highlighter-rouge">align.bam</code>)</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Run samtools view on a BAM file</span>
docker run <span class="nt">--rm</span> biocontainers/samtools <span class="nt">-v</span> /data_dir:/data samtools view /data/align.bam | <span class="nb">head</span>
</code></pre></div> </div> <ul> <li><code class="language-plaintext highlighter-rouge">--rm</code>: Removes the container after execution</li> <li><code class="language-plaintext highlighter-rouge">-v /data_dir:/data</code>: Mounts the local directory <code class="language-plaintext highlighter-rouge">/data_dir</code> to the container directory <code class="language-plaintext highlighter-rouge">/data</code></li> </ul> <p>This command is useful for running single commands without needing an interactive shell. The <code class="language-plaintext highlighter-rouge">--rm</code> flag ensures that the container is removed after the command finishes.</p> </li> <li> <p><strong>Run a command interactively</strong></p> <p>We can also run an interactive shell within the container to execute multiple commands.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Start an interactive shell in the samtools container</span>
docker run <span class="nt">-it</span> <span class="nt">--name</span> samtools_container biocontainers/samtools <span class="nt">-v</span> /data_dir:/data /bin/bash
</code></pre></div> </div> <ul> <li><code class="language-plaintext highlighter-rouge">-it</code>: Starts an interactive terminal session</li> <li><code class="language-plaintext highlighter-rouge">/bin/bash</code>: Launches the bash shell in the container</li> </ul> <p>Here, we also used the <code class="language-plaintext highlighter-rouge">--name</code> flag to give the container a name (<code class="language-plaintext highlighter-rouge">samtools_container</code>) for easy reference.</p> <p>We can now run multiple <code class="language-plaintext highlighter-rouge">samtools</code> commands within the container:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check samtools version</span>
samtools <span class="nt">--version</span>

<span class="c"># Index a reference genome</span>
samtools faidx /data/ref.fa
</code></pre></div> </div> <p>We can add <code class="language-plaintext highlighter-rouge">--rm</code> to the interactive <code class="language-plaintext highlighter-rouge">docker run</code> command to remove the container after exiting the shell.</p> </li> </ol> <h3 id="finding-bioinformatics-tool-containers">Finding Bioinformatics Tool Containers</h3> <p>These registries host a large number of pre-built Docker images for bioinformatics tools:</p> <ul> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/docker-4.svg" width="20" height="20" style="margin-right: 5px;"/> <a href="https://hub.docker.com/">Docker Hub</a></p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/biocontainers-logo.svg" width="20" height="20" style="margin-right: 5px;"/> <a href="https://biocontainers.pro/">Biocontainers</a></p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/quayio-logo.svg" width="20" height="20" style="margin-right: 5px;"/> <a href="https://quay.io/organization/biocontainers">Quay.io</a></p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/pegi3s-logo.svg" width="20" height="20" style="margin-right: 5px;"/> <a href="http://bdip.i3s.up.pt/">pegi3s Bioinformatics Docker Images Project</a></p> </li> </ul> <h3 id="composing-docker-workflows">Composing Docker Workflows</h3> <p>Docker’s real power shines when we use it compose complex workflows with multiple tools. By chaining together containers, we can create reproducible pipelines that can be easily shared and run on different systems.</p> <p><strong>Bioinformatics Pipeline using <code class="language-plaintext highlighter-rouge">bash</code> scripts</strong></p> <p>Here’s an example of a pipeline that aligns reads to a reference genome using <code class="language-plaintext highlighter-rouge">bwa</code> and processes the output using <code class="language-plaintext highlighter-rouge">samtools</code>. These commands can be saved in a <code class="language-plaintext highlighter-rouge">bash</code> script for easy execution.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pull the bwa and samtools images</span>
docker pull biocontainers/bwa
docker pull biocontainers/samtools

<span class="c"># Run the bwa aligner</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> /data_dir:/data biocontainers/bwa bwa mem /data/ref.fa /data/reads.fq <span class="o">&gt;</span> /data/align.sam

<span class="c"># Run samtools to convert the SAM file to BAM</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> /data_dir:/data biocontainers/samtools samtools view <span class="nt">-bS</span> /data/align.sam <span class="o">&gt;</span> /data/align.bam
</code></pre></div></div> <p><strong>Bioinformatics Pipeline using <code class="language-plaintext highlighter-rouge">docker compose</code></strong></p> <p>For more complex workflows, Docker Compose provides a convenient way to define and run multi-container steps with built-in dependency management. The images and commands for the bioinformatic tools can be defined in a <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file, making it easier to manage and reproduce.</p> <aside> <p>Docker compose will typically be installed alongside Docker Desktop for Windows and macOS users. Linux users can install Docker Compose plugin by following this <a href="https://docs.docker.com/compose/install/linux/" target="_blank">link</a>.</p> </aside> <p>Consider the same bioinformatics task from the <code class="language-plaintext highlighter-rouge">bash</code> script example above: aligning sequencing reads and converting the resulting alignment to BAM format. The following <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file captures this workflow:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">bwa</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">biocontainers/bwa</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/data_dir:/data</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">bwa mem /data/ref.fa /data/reads.fq &gt; /data/align.sam</span>
  <span class="na">samtools</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">biocontainers/samtools</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/data_dir:/data</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">samtools view -bS /data/align.sam &gt; /data/align.bam</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">bwa</span>
</code></pre></div></div> <p>This <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file defines the following key sections:</p> <ul> <li><code class="language-plaintext highlighter-rouge">services</code>: Defines the containers in our pipeline. Each service is a separate Docker container.</li> <li><code class="language-plaintext highlighter-rouge">bwa</code>: and <code class="language-plaintext highlighter-rouge">samtools</code>: These are our service definitions. <ul> <li><code class="language-plaintext highlighter-rouge">image</code>: Specifies the Docker image to use (e.g., <code class="language-plaintext highlighter-rouge">biocontainers/bwa</code>).</li> <li><code class="language-plaintext highlighter-rouge">volumes</code> (same as command line <code class="language-plaintext highlighter-rouge">-v</code> flag): Mounts a local directory (<code class="language-plaintext highlighter-rouge">data_dir/data</code>) to the container’s <code class="language-plaintext highlighter-rouge">/data</code> directory</li> <li><code class="language-plaintext highlighter-rouge">command</code>: Sets the command to run within the container.</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge">depends_on</code>: - <code class="language-plaintext highlighter-rouge">bwa</code>: This is crucial for <strong>dependency management</strong>. It tells Docker Compose that the <code class="language-plaintext highlighter-rouge">samtools</code> container must wait for the <code class="language-plaintext highlighter-rouge">bwa</code> container to finish before starting. This ensures the <code class="language-plaintext highlighter-rouge">align.sam</code> file exists before <code class="language-plaintext highlighter-rouge">samtools</code> tries to use it.</li> </ul> <p>To run the pipeline, execute the following command in the same directory as the <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose up
</code></pre></div></div> <h3 id="other-resources">Other Resources</h3> <p>If you’d like to read more about reproducible research practices, check out the following resources:</p> <ul> <li><a href="https://book.the-turing-way.org/">“The Turing Way”</a> : A handbook for reporoducible, ethical and collaborative data science.</li> </ul> <p>Docker is a game-changer for bioinformatics, making workflows more reproducible, scalable, and shareable. Whether you’re running a single tool or a complex pipeline, Docker ensures that your research remains reliable and accessible across different environments.</p> <p>Happy Dockering!</p>]]></content><author><name>Abhilesh Dhawanjewar</name></author><category term="bioinformatics"/><category term="docker"/><category term="bioinformatics"/><summary type="html"><![CDATA[Portable, Scalable and Reproducible Bioinformatics workflows]]></summary></entry><entry><title type="html">Beats of Stress</title><link href="https://abhilesh.github.io/blog/2018/physiology-phd/" rel="alternate" type="text/html" title="Beats of Stress"/><published>2018-04-27T21:01:00+00:00</published><updated>2018-04-27T21:01:00+00:00</updated><id>https://abhilesh.github.io/blog/2018/physiology-phd</id><content type="html" xml:base="https://abhilesh.github.io/blog/2018/physiology-phd/"><![CDATA[<p>The <a href="https://en.wikipedia.org/wiki/Comprehensive_examination">Comprehensive Exam</a> (more affectionately known as “comps”) is a notoriously stressful milestone in the PhD journey. It is a high-stakes exam that tests the student’s knowledge of their field and their ability to think critically. The format of the exam varies by departments, but usually consists of both a written and an oral component. For my doctoral program, this involved writing a research proposal laying out the plans for my dissertation research, and then defending it in front of my doctoral committee, which comprised of five faculty members from related fields.</p> <p>As a competitive cyclist during my PhD, I regularly used heart rate metrics to track my training and recovery. As exam anxiety started mounting in the days leading up to the exam, my curiosity piqued about how my body would respond physiologically to this gruelling ordeal. To explore this, I decided to wear my heart rate monitor to the exam to gather some data.</p> <p>Now, onto the data: the physiological profile of my heart was quite revealing. As the exam commenced, my heart rate spiked sharply to 140 bpm, well within the fat-burning zone as I stood before my doctoral committee with my presentation behind me. This was a clear sign of the pre-exam jitters. The anticipation of the questions, the intimidating presence of the professors, the sheer weight of the moment - all acting as conductors in this orchestra of anxiety.</p> <div class="row justify-content-center mt-3"> <div class="col-12 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/comps_hr-480.webp 480w,/assets/img/posts/comps_hr-800.webp 800w,/assets/img/posts/comps_hr-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/posts/comps_hr.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="caption"> Beat by beat, the heart tells the story of my PhD exam. </div> </div> <p>Fortunately, my professors proved to be a compassionate and supportive group, helping to ease my nerves. As I answered their challenging questions with accuracy (or at least confidence), I felt my heart begin to ease, reflected in the gradual decline of my heart rate. Yet, there were still notable spikes, likely triggered by especially tough inquiries, sending my pulse racing once more.</p> <p>As my heart rate stabilized towards the end of the exam, the ultimate trial loomed: the verdict. They ask you to step outside the room, while the examiners debate your fate. My heart rate surged dramatically again, doing a pole vault during those agonizing moments spent in anticipation outside the room.</p> <p>In the end, I survived the comps, my dissertation proposal was met with positive enthusiasm and the examiners’ insights helped sharpen and refine the questions I was going to explore in my doctoral work. In retrospect, the PhD oral exam, viewed through the lens of a heart rate monitor revealed the physiological response of the body to this intellectual pressure. This curious experiment was a welcome distraction, and though I wouldn’t advocate it as a fat-burning regime, it undoubtedly added a unique dimension to my academic odyssey.</p> <p><ins>Notes:</ins></p> <ul> <li>My resting heart rate during this period was around 45 bpm, while my average heart rate during the exam was 84 bpm, a significant increase.</li> <li>Used the <a href="https://uk.wahoofitness.com/devices/running/heart-rate-monitors/tickr-buy">Wahoo TICKR</a> heart rate monitor to capture the data, exported using the <a href="https://play.google.com/store/apps/details?id=com.wahoofitness.fitness&amp;hl=en_US">Wahoo app</a>, cleaned up the data and plotted the graph in <a href="https://www.r-project.org/">R</a>. Code for the plot available on my <a href="https://github.com/abhilesh/Miscellaneous_scripts/tree/master/PhD_Comps_HR">GitHub</a>.</li> </ul>]]></content><author><name></name></author><category term="miscellany"/><category term="PhD-journey"/><category term="data-visualization"/><summary type="html"><![CDATA[A physiological perspective on my PhD exams]]></summary></entry></feed>