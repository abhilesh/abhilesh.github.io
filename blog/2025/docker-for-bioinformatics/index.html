<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="_lH3zRueYRvwRbtYVH56oH7lgUs5HnrIL1SN0LAtKyY"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Docker for Bioinformatics | Abhilesh Dhawanjewar </title> <meta name="author" content="Abhilesh Dhawanjewar"> <meta name="description" content="Portable, Scalable and Reproducible Bioinformatics workflows"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="/assets/libs/mdb/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="/assets/libs/google_fonts/google-fonts.css"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon-32x32.png?61747260cb6c82387f9d334dad0b5cd9"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://abhilesh.github.io/blog/2025/docker-for-bioinformatics/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-monokai.css?d536d0f87ce647fcf6b5eff9db01df15" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Docker for Bioinformatics",
            "description": "Portable, Scalable and Reproducible Bioinformatics workflows",
            "published": "February 27, 2025",
            "authors": [
              
              {
                "author": "Abhilesh Dhawanjewar",
                "authorURL": "https://abhilesh.github.io",
                "affiliations": [
                  {
                    "name": "University of Cambridge",
                    "url": "https://www.cam.ac.uk/"
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Abhilesh <span class="font-weight-bold">Dhawanjewar </span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Docker for Bioinformatics</h1> <p>Portable, Scalable and Reproducible Bioinformatics workflows</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <ul id="toc" class="section-nav"> <li class="toc-entry toc-h2"><a href="#what-is-docker">What is Docker?</a></li> <li class="toc-entry toc-h2"><a href="#how-can-docker-help">How can Docker help?</a></li> <li class="toc-entry toc-h2"><a href="#getting-started">Getting Started</a></li> <li class="toc-entry toc-h2"><a href="#understanding-key-docker-concepts">Understanding Key Docker Concepts</a></li> <li class="toc-entry toc-h2"><a href="#running-bioinformatics-tools-with-docker">Running Bioinformatics Tools with Docker</a></li> <li class="toc-entry toc-h2"> <a href="#composing-docker-workflows">Composing Docker Workflows</a> <ul> <li class="toc-entry toc-h3"><a href="#bioinformatics-pipeline-using-bash-scripts">Bioinformatics Pipeline using bash scripts</a></li> <li class="toc-entry toc-h3"><a href="#bioinformatics-pipeline-using-docker-compose">Bioinformatics Pipeline using docker compose</a></li> </ul> </li> <li class="toc-entry toc-h2"><a href="#beyond-pre-built-images-introducing-dockerfiles">Beyond Pre-Built Images: Introducing Dockerfiles</a></li> <li class="toc-entry toc-h2"><a href="#finding-bioinformatics-tool-containers">Finding Bioinformatics Tool Containers</a></li> <li class="toc-entry toc-h2"><a href="#resources-and-further-reading">Resources and Further Reading</a></li> <li class="toc-entry toc-h2"><a href="#conclusion">Conclusion</a></li> </ul> </nav> </d-contents> <div class="row justify-content-center mt-3"> <div class="col-12 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover-480.webp 480w,/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover-800.webp 800w,/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/docker-for-bioinformatics/docker-for-bioinformatics-cover.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Bioinformatics analysis often involves complex pipelines with rapidly evolving software tools, each with their own set of dependencies. System compatibility, version mismatches and dependency conflict issues can often be a nightmare, making running and sharing bioinformatic pipelines a challenging task. These challenges not only waste valuable research time but also contribute to irreproducible workflows, where results depend as much on the computing environment as on the analysis itself. Docker offers a powerful solution by packaging software and its dependencies into portable, reproducible containers—ensuring that your bioinformatics pipelines run consistently, whether on your local machine, an HPC cluster, or the cloud.</p> <h2 id="what-is-docker">What is Docker?</h2> <p>Imagine you’re baking a cake, but every time you try, your kitchen is missing key ingredients or uses a different oven that bakes at the wrong temperature. Docker is like a self-contained baking kit that comes with all the right ingredients, tools, and even its own portable oven, ensuring your cake turns out exactly the same no matter where you bake it. In bioinformatics, Docker does the same for software by packaging tools, dependencies, and environments so that analyses run reliably across different computing platforms.</p> <h2 id="how-can-docker-help">How can Docker help?</h2> <p>The <strong>FAIR</strong> (Findable, Accessible, Interoperable, and Reusable) principles <d-cite key="wilkinson_fair_2016"></d-cite> provide guidelines for maximizing the value of research data. Docker aligns bioinformatics workflows with these principles by ensuring software and environments are portable and reproducible:</p> <ul> <li> <p><strong>Findability</strong>: Docker images can be easily found in registries like Docker Hub, with clear versioning and documentation for discovery.</p> </li> <li> <p><strong>Accessibility</strong>: Anyone with internet access and Docker installed can retrieve and use containerized tools, promoting open science.</p> </li> <li> <p><strong>Interoperability</strong>: Docker containers provide a consistent runtime environment across different systems, preventing dependency conflicts.</p> </li> <li> <p><strong>Reusability</strong>: Pre-built images allow researchers to reuse workflows without worrying about installation issues, fostering collaboration.</p> </li> </ul> <h2 id="getting-started">Getting Started</h2> <p>To begin, start by installing Docker on your system. Docker is available for all major operating systems and the installers can be downloaded from the <a href="https://www.docker.com/get-started/" rel="external nofollow noopener" target="_blank">official website</a>. For Windows and macOS users, the recommended approach is to install the Docker Desktop application, while Linux users can install Docker natively for a more lightweight setup.<d-footnote>Docker Desktop creates a Linux virtual machine (VM) on Windows and macOS to run containers, whereas on a Linux machine, Docker runs natively without the need for a VM.</d-footnote></p> <hr style="grid-column: text; width: 100%; border: none; border-bottom: 1px solid rgba(0, 0, 0, 0.1); margin-top: 1rem; margin-bottom: 1rem;"> <ul id="docker-os-install" class="tab" data-tab="1442ffea-3a61-414f-bf8d-161e8570edcc" data-name="docker-os-install"> <li class="active" id="docker-os-install-macos"> <a href="#">MacOS </a> </li> <li id="docker-os-install-windows"> <a href="#">Windows </a> </li> <li id="docker-os-install-linux"> <a href="#">Linux </a> </li> </ul> <ul class="tab-content" id="1442ffea-3a61-414f-bf8d-161e8570edcc" data-name="docker-os-install"> <li class="active"> <ul> <li>Download the <a href="https://docs.docker.com/desktop/setup/install/mac-install/" rel="external nofollow noopener" target="_blank">Docker Desktop installer for MacOS</a> </li> <li>Follow the setup instructions to install Docker.</li> <li>Docker Desktop can now be launched by clicking the application icon.</li> </ul> </li> <li> <ul> <li>Download the <a href="https://docs.docker.com/desktop/setup/install/windows-install/" rel="external nofollow noopener" target="_blank">Docker Desktop installer for Windows</a> </li> <li>Follow the setup instructions to install Docker.</li> <li>Docker Desktop can now be launched by clicking the application icon.</li> </ul> </li> <li> <p>Assuming a Debian-based Linux distribution (e.g., Ubuntu):</p> <ul> <li> <p>Open a terminal and run the following commands</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c"># Update package index and install docker</span>
<span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>docker.io
</code></pre></div> </div> </li> <li> <p>Add your user to the <code class="language-plaintext highlighter-rouge">docker</code> group to run Docker commands without <code class="language-plaintext highlighter-rouge">sudo</code></p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="k">${</span><span class="nv">whoami</span><span class="k">}</span>
</code></pre></div> </div> </li> <li> <p>Log out and log back in to apply the changes</p> </li> </ul> <p><strong><em>Note:</em></strong> If you do not have <code class="language-plaintext highlighter-rouge">sudo</code> privileges, you can install Docker using the <a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-convenience-script" rel="external nofollow noopener" target="_blank">official script</a>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Download the Docker installation script</span>
curl <span class="nt">-fsSL</span> https://get.docker.com <span class="nt">-o</span> get-docker.sh

<span class="c"># Append --dry-run to see the commands that will be executed</span>
<span class="nb">sudo </span>sh get-docker.sh
</code></pre></div></div> </li> </ul> <hr style="grid-column: text; width: 100%; border: none; border-bottom: 1px solid rgba(0, 0, 0, 0.1); margin-top: 1rem; margin-bottom: 1rem;"> <p><br> To test whether Docker is installed correctly, run the following command in your terminal:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check Docker version</span>
docker <span class="nt">--version</span>

<span class="c"># Test with a simple hello-world container</span>
docker run hello-world
</code></pre></div></div> <p>There are other ways to run containers, and you can experiment with these as you get more comfortable with Docker.</p> <h2 id="understanding-key-docker-concepts">Understanding Key Docker Concepts</h2> <ul> <li> <p><strong>Images</strong> vs <strong>Containers</strong>:</p> <p>A <em>Docker image</em> is a static, read-only blueprint that includes the application and all its dependencies. A <em>container</em> is a live, running instance created from that image. Returning to our baking analogy: the <em>image</em> is your recipe and ingredients kit, while the <em>container</em> is the oven actively baking the cake. You can spin up multiple containers from the same image—just like baking several cakes from one recipe.</p> </li> <li> <p>The importance of <strong>Volumes</strong>:</p> <p>By default, docker containers are <strong>ephemeral</strong> i.e. once they stop any files written inside them are lost. To effectively manage input/output tasks between the host machine and the container and to persist data, we use <em>volumes</em>. We mount a local directory on the host machine to a directory inside the container using the <code class="language-plaintext highlighter-rouge">-v</code> (or the more flexible <code class="language-plaintext highlighter-rouge">--mount</code>) flag.</p> </li> </ul> <h2 id="running-bioinformatics-tools-with-docker">Running Bioinformatics Tools with Docker</h2> <p>We will use the popular tool <a href="http://www.htslib.org/" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">samtools</code></a> as an example to demonstrate how to run bioinformatics tools using Docker. <code class="language-plaintext highlighter-rouge">samtools</code> is a widely used tool for working with Sequence Alignment/Map (SAM) and Binary Alignment/Map (BAM) files.</p> <ol> <li> <p><strong>Pull a Docker Image</strong></p> <p>Here, we will pull a Docker image for <a href="https://hub.docker.com/r/biocontainers/samtools" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">samtools</code></a> from Docker Hub.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c"># Pull the samtools image from Docker Hub</span>
docker pull biocontainers/samtools
</code></pre></div> </div> <p>This command will download the <code class="language-plaintext highlighter-rouge">samtools</code> image and its dependencies to your local machine. We can then use the image to create containers.</p> </li> <li> <p><strong>Run a single command non-interactively</strong></p> <p>We will use <code class="language-plaintext highlighter-rouge">samtools</code> to view the first few lines of a BAM file. Replace <code class="language-plaintext highlighter-rouge">/data_dir</code> with the path to the folder containing your BAM file (<code class="language-plaintext highlighter-rouge">align.bam</code>)</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c"># Run samtools view on a BAM file</span>
docker run <span class="nt">--rm</span> biocontainers/samtools <span class="nt">-v</span> /data_dir:/data samtools view /data/align.bam | <span class="nb">head</span>
</code></pre></div> </div> <ul> <li> <code class="language-plaintext highlighter-rouge">--rm</code>: Removes the container after execution</li> <li> <code class="language-plaintext highlighter-rouge">-v /data_dir:/data</code>: Mounts the local directory <code class="language-plaintext highlighter-rouge">/data_dir</code> to the container directory <code class="language-plaintext highlighter-rouge">/data</code> </li> </ul> <p>This command is useful for running single commands without needing an interactive shell. The <code class="language-plaintext highlighter-rouge">--rm</code> flag ensures that the container is removed after the command finishes.</p> </li> <li> <p><strong>Run a command interactively</strong></p> <p>We can also run an interactive shell within the container to execute multiple commands.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c"># Start an interactive shell in the samtools container</span>
docker run <span class="nt">-it</span> <span class="nt">--name</span> samtools_container biocontainers/samtools <span class="nt">-v</span> /data_dir:/data /bin/bash
</code></pre></div> </div> <ul> <li> <code class="language-plaintext highlighter-rouge">-it</code>: Starts an interactive terminal session</li> <li> <code class="language-plaintext highlighter-rouge">/bin/bash</code>: Launches the bash shell in the container</li> </ul> <p>Here, we also used the <code class="language-plaintext highlighter-rouge">--name</code> flag to give the container a name (<code class="language-plaintext highlighter-rouge">samtools_container</code>) for easy reference.</p> <p>We can now run multiple <code class="language-plaintext highlighter-rouge">samtools</code> commands within the container:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c"># Check samtools version</span>
samtools <span class="nt">--version</span>

<span class="c"># Index a reference genome</span>
samtools faidx /data/ref.fa
</code></pre></div> </div> <p>We can add <code class="language-plaintext highlighter-rouge">--rm</code> to the interactive <code class="language-plaintext highlighter-rouge">docker run</code> command to remove the container after exiting the shell.</p> </li> </ol> <h2 id="composing-docker-workflows">Composing Docker Workflows</h2> <p>Docker’s real power shines when we use it compose complex workflows with multiple tools. By chaining together containers, we can create reproducible pipelines that can be easily shared and run on different systems.</p> <p>Let’s consider the first step of most bioinformatics workflows: quality control of sequencing reads. This step is often performed using tools like <a href="https://www.bioinformatics.babraham.ac.uk/projects/fastqc/" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">fastqc</code></a><d-footnote><a href="https://www.bioinformatics.babraham.ac.uk/projects/fastqc/" target="_blank" rel="external nofollow noopener">FastQC</a> is a quality control tool that analyzes raw sequence data from high throughout sequencing runs</d-footnote> with results conveniently summarized using tools like <a href="https://seqera.io/multiqc/" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">multiqc</code></a><d-footnote><a href="https://seqera.io/multiqc/" target="_blank" rel="external nofollow noopener">MultiQC</a> aggregates results and quality metrics from multiple bioinformatics analysis reports (often including those from <a href="https://www.bioinformatics.babraham.ac.uk/projects/fastqc/" target="_blank" rel="external nofollow noopener">FastQC</a>) into a single, interactive summary report, facilitating comparison across numerous samples or steps.</d-footnote>. These tools can be run in a Docker container, allowing us to easily check the quality of our sequencing data.</p> <p>To try out the pipeline with real data, we can use test FASTQC files from the <a href="https://github.com/nf-core/test-datasets" rel="external nofollow noopener" target="_blank">nf-core/test-datasets</a> repository that are ideal for quick pipeline tests. We can run the following commands one-by-one on the command line or save them in a <code class="language-plaintext highlighter-rouge">bash</code> script to download the test data to the <code class="language-plaintext highlighter-rouge">~/docker-bioinf/data/raw_data</code> directory. You can replace this with any other directory of your choice.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create directory for test data</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/docker-bioinf/data/raw_data
<span class="nb">cd</span> ~/docker-bioinf/data/raw_data

<span class="c"># Download test FASTQ files</span>
wget https://raw.githubusercontent.com/nf-core/test-datasets/modules/data/genomics/sarscov2/illumina/fastq/test_1.fastq.gz
wget https://raw.githubusercontent.com/nf-core/test-datasets/modules/data/genomics/sarscov2/illumina/fastq/test_2.fastq.gz
wget https://raw.githubusercontent.com/nf-core/test-datasets/modules/data/genomics/sarscov2/illumina/fastq/test2_1.fastq.gz
wget https://raw.githubusercontent.com/nf-core/test-datasets/modules/data/genomics/sarscov2/illumina/fastq/test2_2.fastq.gz
</code></pre></div></div> <aside> <p> 💡 <strong>Note:</strong> If <code>wget</code> is not installed on your system, you can replace it with <code>curl -O</code> in the download commands. For example, <code>wget URL</code> becomes <code>curl -O URL</code>.</p> </aside> <p>Check the contents of the <code class="language-plaintext highlighter-rouge">~/docker-bioinf/data/raw_data</code> directory to confirm that the files have been downloaded successfully.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check the contents of the directory</span>
<span class="nb">ls</span> ~/docker-bioinf/data/raw_data
</code></pre></div></div> <h3 id="bioinformatics-pipeline-using-bash-scripts">Bioinformatics Pipeline using <code class="language-plaintext highlighter-rouge">bash</code> scripts</h3> <p>We can chain together multiple docker commands to construct a lightweight, portable pipeline for quality control of sequencing reads. The following <code class="language-plaintext highlighter-rouge">bash</code> script demonstrates how to run <code class="language-plaintext highlighter-rouge">fastqc</code> on all FASTQ files in the <code class="language-plaintext highlighter-rouge">~/docker-bioinf/data/raw_data</code> directory and generate a summary report using <code class="language-plaintext highlighter-rouge">multiqc</code>. The script will create a new directory called <code class="language-plaintext highlighter-rouge">qc_reports</code> to store the output reports.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># Create the output directory</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/docker-bioinf/data/qc_reports

<span class="c"># Pull the FastQC and MultiQC containers</span>
docker pull quay.io/biocontainers/fastqc:0.12.1--hdfd78af_0
docker pull quay.io/biocontainers/multiqc:1.28--pyhdfd78af_0

<span class="c"># Run FastQC on all FASTQ files in the raw_data directory</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> ~/docker-bioinf/data:/data quay.io/biocontainers/fastqc:0.12.1--hdfd78af_0 <span class="se">\</span>
  bash <span class="nt">-c</span> <span class="s1">'fastqc /data/raw_data/*.fastq.gz -o /data/qc_reports'</span>

<span class="c"># Run MultiQC to aggregate FastQC reports</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> ~/docker-bioinf/data:/data quay.io/biocontainers/multiqc:1.28--pyhdfd78af_0 <span class="se">\</span>
  multiqc /data/qc_reports <span class="nt">-o</span> /data/qc_reports
</code></pre></div></div> <aside> <p> 💡 <strong>Note:</strong> If your Docker installation does not have root privileges, it may not be able to create new directories inside mounted volumes. To avoid errors, <strong>manually create the <code>qc_reports</code> directory</strong> on the host system before running the pipeline: </p> <pre style="font-size: 0.85em; line-height: 1.4;"><code>mkdir -p ~/docker-bioinf/data/qc_reports</code></pre> </aside> <blockquote> <p>Note the use of <code class="language-plaintext highlighter-rouge">bash -c</code> when running the <code class="language-plaintext highlighter-rouge">fastqc</code> command which ensures that the command is executed in a shell environment thereby enabling the expansion of wildcards (e.g. <em>*fastq.gz</em>)</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge">fastqc</code> and <code class="language-plaintext highlighter-rouge">multiqc</code> reports will be saved in the <code class="language-plaintext highlighter-rouge">~/docker-bioinf/data/qc_reports</code> directory, and you can view them using any web browser. The <code class="language-plaintext highlighter-rouge">fastqc</code> reports will be in HTML format, while the <code class="language-plaintext highlighter-rouge">multiqc</code> report will be an interactive HTML file (<code class="language-plaintext highlighter-rouge">multiqc_report.html</code>) that aggregates the results from all the <code class="language-plaintext highlighter-rouge">fastqc</code> reports.</p> <h3 id="bioinformatics-pipeline-using-docker-compose">Bioinformatics Pipeline using <code class="language-plaintext highlighter-rouge">docker compose</code> </h3> <p>For more complex workflows, Docker Compose provides a convenient way to define and run multi-container steps with built-in dependency management. The images and commands for the bioinformatic tools can be defined in a <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file, making it easier to manage and reproduce.</p> <aside> <p> Docker compose will typically be installed alongside Docker Desktop for Windows and macOS users. Linux users can install Docker Compose plugin by following this <a href="https://docs.docker.com/compose/install/linux/" target="_blank" rel="external nofollow noopener">link</a>.</p> </aside> <p>Let’s revisit the earlier bioinformatics task: running FastQC on raw FASTQ files and summarizing the results using MultiQC. Instead of invoking each tool manually with separate <code class="language-plaintext highlighter-rouge">docker run</code> commands, we can streamline the workflow using a <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">fastqc</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/biocontainers/fastqc:0.12.1--hdfd78af_0</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">~/docker-bioinf/data:/data</span>
    <span class="na">entrypoint</span><span class="pi">:</span> <span class="s">bash -c</span>
    <span class="na">command</span><span class="pi">:</span> <span class="pi">&gt;</span>
      <span class="s">"mkdir -p /data/qc_reports &amp;&amp;</span>
      <span class="s">fastqc /data/raw_data/*.fastq.gz -o /data/qc_reports"</span>

  <span class="na">multiqc</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/biocontainers/multiqc:1.28--pyhdfd78af_0</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">~/docker-bioinf/data:/data</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">multiqc /data/qc_reports -o /data/qc_reports</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="na">fastqc</span><span class="pi">:</span>
        <span class="na">condition</span><span class="pi">:</span> <span class="s">service_completed_successfully</span>
</code></pre></div></div> <p>This <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file defines the following key sections:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">services</code>: Defines the containers in our pipeline. Each service is a separate Docker container.</li> <li> <code class="language-plaintext highlighter-rouge">fastqc</code>: and <code class="language-plaintext highlighter-rouge">multiqc</code>: These are our service definitions. <ul> <li> <code class="language-plaintext highlighter-rouge">image</code>: Specifies the Docker image to use (e.g., <code class="language-plaintext highlighter-rouge">quay.io/biocontainers/fastqc</code>).</li> <li> <code class="language-plaintext highlighter-rouge">volumes</code>: Mounts a local directory (<code class="language-plaintext highlighter-rouge">~/docker-bioinf/data</code>) to the container’s <code class="language-plaintext highlighter-rouge">/data</code> directory</li> <li> <code class="language-plaintext highlighter-rouge">entrypoint</code>: Sets the entrypoint for the container to <code class="language-plaintext highlighter-rouge">bash -c</code>, allowing us to run multiple commands in a single container.</li> <li> <code class="language-plaintext highlighter-rouge">command</code>: Sets the command to run within the container.</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">depends_on</code>: This directive is essential for managing the workflow’s order of operations. <ul> <li> <code class="language-plaintext highlighter-rouge">fastqc</code>: Indicates that the <code class="language-plaintext highlighter-rouge">multiqc</code> service relies on the output of the <code class="language-plaintext highlighter-rouge">fastqc</code> service. <ul> <li> <code class="language-plaintext highlighter-rouge">condition: service_completed_successfully</code>: By setting this condition, we instruct Docker Compose to only initiate the <code class="language-plaintext highlighter-rouge">multiqc</code> container once the <code class="language-plaintext highlighter-rouge">fastqc</code> container has finished its job and exited with a success status. This prevents <code class="language-plaintext highlighter-rouge">multiqc</code> from running prematurely and encountering an empty or incomplete <code class="language-plaintext highlighter-rouge">qc_reports</code> directory.</li> </ul> </li> </ul> </li> </ul> <p>To run the pipeline, execute the following command in the same directory as the <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose up
</code></pre></div></div> <blockquote> <p>💡 Tip: If you’re re-running the pipeline and want a clean start, use <code>docker compose down</code> to remove the containers, or add the <code>--force-recreate</code> flag when running up (e.g. <code> docker compose up --force-recreate</code>).</p> </blockquote> <h2 id="beyond-pre-built-images-introducing-dockerfiles">Beyond Pre-Built Images: Introducing Dockerfiles</h2> <p>While pre-built Docker images are incredibly helpful, they may not always meet your specific needs. Suppose you want to install a specific version of a tool or dependency, package custom scripts along with the tools or simply that the pre-built image is not available. In such cases, you can create your own Docker images using a <code class="language-plaintext highlighter-rouge">Dockerfile</code>, which is a text file that contains instructions for building a Docker image. It specifies the base image, the software to install, and any configuration needed to set up the environment.</p> <p>We can create our own custom docker image for the same <code class="language-plaintext highlighter-rouge">fastqc</code> and <code class="language-plaintext highlighter-rouge">multiqc</code> pipeline using a <code class="language-plaintext highlighter-rouge">Dockerfile</code>. This provides us complete control to customize the environment, install additional dependencies, and package our scripts along with the tools.</p> <div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Use lightweight linux base</span>
<span class="k">FROM</span><span class="s"> debian:bullseye-slim</span>

<span class="c"># Prevent interactive prompts</span>
<span class="k">ENV</span><span class="s"> DEBIAN_FRONTEND=noninteractive</span>

<span class="c"># Install dependencies</span>
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="nt">--no-install-recommends</span> <span class="se">\
</span>    openjdk-11-jdk <span class="se">\
</span>    python3 <span class="se">\
</span>    python3-pip <span class="se">\
</span>    bash <span class="se">\
</span>    wget <span class="se">\
</span>    unzip <span class="se">\
</span>    perl <span class="se">\
</span>    libperl-dev <span class="o">&amp;&amp;</span> <span class="se">\
</span>    apt-get clean <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> /var/lib/apt/lists/<span class="k">*</span>

<span class="c"># Install FastQC</span>
<span class="k">RUN </span>wget https://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.12.1.zip <span class="o">&amp;&amp;</span> <span class="se">\
</span>    unzip fastqc_v0.12.1.zip <span class="o">&amp;&amp;</span> <span class="se">\
</span>    <span class="nb">mv </span>FastQC /opt/fastqc <span class="o">&amp;&amp;</span> <span class="se">\
</span>    <span class="nb">chmod</span> +x /opt/fastqc/fastqc <span class="o">&amp;&amp;</span> <span class="se">\
</span>    <span class="nb">ln</span> <span class="nt">-s</span> /opt/fastqc/fastqc /usr/local/bin/fastqc <span class="o">&amp;&amp;</span> <span class="se">\
</span>    <span class="nb">rm </span>fastqc_v0.12.1.zip

<span class="c"># Install MultiQC</span>
<span class="k">RUN </span>pip3 <span class="nb">install</span> <span class="nt">--no-cache-dir</span> multiqc

<span class="c"># Set working directory</span>
<span class="k">WORKDIR</span><span class="s"> /data</span>

<span class="c"># Make shell commands easier to write</span>
<span class="k">ENTRYPOINT</span><span class="s"> ["bash", "-c"]</span>
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">Dockerfile</code> contains the instructions to build an environment with the tools and necessary dependencies for our analysis, the key sections are:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">FROM &lt;image&gt;</code>: Specifies the base image to use, this is the image we’ll extend by installing our specific tools. In this case, we are using a lightweight Debian image.</li> </ul> <aside><p>Explore more base image options on <a href="https://docs.docker.com/docker-hub/image-library/trusted-content/#docker-official-images" target="_blank" rel="external nofollow noopener">Docker Hub</a>.</p></aside> <ul> <li> <code class="language-plaintext highlighter-rouge">RUN &lt;command&gt;</code>: Executes a command in the container during the build process. We use this to install dependencies and tools.</li> <li> <code class="language-plaintext highlighter-rouge">WORKDIR &lt;directory&gt;</code>: Sets the working directory inside the container. This is where the commands will be executed.</li> <li> <code class="language-plaintext highlighter-rouge">ENTRYPOINT &lt;command&gt;</code>: Sets the default command to run when the container starts. In this case, we set it to <code class="language-plaintext highlighter-rouge">bash -c</code> to allow us to run multiple commands.</li> </ul> <p>A complete list of Dockerfile instructions can be found in the <a href="https://docs.docker.com/engine/reference/builder/" rel="external nofollow noopener" target="_blank">Dockerfile reference</a>.</p> <p>Next, we build the Docker image using the <code class="language-plaintext highlighter-rouge">docker build</code> command. The <code class="language-plaintext highlighter-rouge">-t</code> flag allows us to tag the image with a name (e.g., <code class="language-plaintext highlighter-rouge">my_fastqc_multiqc</code>).</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Build the Docker image</span>
docker build <span class="nt">-t</span> my_fastqc_multiqc <span class="nb">.</span>
</code></pre></div></div> <p>Once the image is built, we can run it using the same commands as before. The only difference is that we will use our custom image name instead of the pre-built one.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/docker-bioinf/data/qc_reports

<span class="c"># Run FastQC on all FASTQ files in the raw_data directory</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> ~/docker-bioinf/data:/data my_fastqc_multiqc <span class="se">\</span>
  bash <span class="nt">-c</span> <span class="s1">'mkdir -p /data/qc_reports &amp;&amp; fastqc /data/raw_data/*.fastq.gz -o /data/qc_reports'</span>

<span class="c"># Run MultiQC to aggregate FastQC reports</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> ~/docker-bioinf/data:/data my_fastqc_multiqc <span class="se">\</span>
  multiqc /data/qc_reports <span class="nt">-o</span> /data/qc_reports
</code></pre></div></div> <h2 id="finding-bioinformatics-tool-containers">Finding Bioinformatics Tool Containers</h2> <p>These registries host a large number of pre-built Docker images for bioinformatics tools:</p> <ul> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/docker-4.svg" width="20" height="20" style="margin-right: 5px;"> <a href="https://hub.docker.com/" rel="external nofollow noopener" target="_blank">Docker Hub</a> : The default Docker registry, home to many official and community-maintained bioinformatics tool images.</p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/biocontainers-logo.svg" width="20" height="20" style="margin-right: 5px;"> <a href="https://biocontainers.pro/" rel="external nofollow noopener" target="_blank">Biocontainers</a> : A community-driven project offering thousands of standardized containers for bioinformatics tools, ideal for reproducible pipelines.</p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/quayio-logo.svg" width="20" height="20" style="margin-right: 5px;"> <a href="https://quay.io/organization/biocontainers" rel="external nofollow noopener" target="_blank">Quay.io</a> : Another major container registry, widely used by the BioContainers project to host their images.</p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/pegi3s-logo.svg" width="20" height="20" style="margin-right: 5px;"> <a href="http://bdip.i3s.up.pt/" rel="external nofollow noopener" target="_blank">pegi3s Bioinformatics Docker Images Project</a> : A curated collection of Docker images focused on reproducibility and ease of use.</p> </li> <li> <p><img src="/assets/img/posts/docker-for-bioinformatics/rocker-logo.svg" width="20" height="20" style="margin-right: 5px;"> <a href="https://rocker-project.org/" rel="external nofollow noopener" target="_blank">Rocker Project</a> : Docker images tailored for R and RStudio users, commonly used in data science and bioinformatics research.</p> </li> </ul> <h2 id="resources-and-further-reading">Resources and Further Reading</h2> <p><strong>Docker Essentials and Learning:</strong></p> <ul> <li> <a href="https://docs.docker.com/get-started/" rel="external nofollow noopener" target="_blank">Getting Started with Docker</a> : A beginner-friendly guide to Docker, covering installation and basic commands.</li> <li> <a href="https://docs.docker.com/" rel="external nofollow noopener" target="_blank">Docker Documentation</a> : The official Docker documentation is a comprehensive resource for all things Docker.</li> <li> <a href="https://docs.docker.com/compose/" rel="external nofollow noopener" target="_blank">Docker Compose Documentation</a> : A guide to using Docker Compose for multi-container applications.</li> <li> <a href="https://docs.docker.com/get-started/docker_cheatsheet.pdf" rel="external nofollow noopener" target="_blank">Docker CLI CheatSheet</a> : A quick reference guide for common Docker commands.</li> </ul> <p><strong>Guided Lessons:</strong></p> <ul> <li> <a href="https://carpentries-incubator.github.io/docker-introduction/" rel="external nofollow noopener" target="_blank">Software Carpentries: Introduction to Docker</a> : A hands-on lesson designed for researchers new to containers.</li> </ul> <p><strong>Reproducibility in Research Practices:</strong></p> <ul> <li> <a href="https://www.nature.com/articles/sdata201618" rel="external nofollow noopener" target="_blank">The FAIR Guiding Principles</a><d-cite key="wilkinson_fair_2016"></d-cite>: The original paper outlining the FAIR principles</li> <li> <a href="https://doi.org/10.1371/journal.pcbi.1000424" rel="external nofollow noopener" target="_blank">Ten Simple Rules for Reproducible Computational Research</a><d-cite key="sandve_ten_2013"></d-cite> : A paper outlining ten simple rules for reproducible research in computational biology.</li> <li> <a href="https://book.the-turing-way.org/" rel="external nofollow noopener" target="_blank">“The Turing Way”</a> : A handbook for reporoducible, ethical and collaborative data science.</li> <li> <a href="https://arca-dpss.github.io/manual-open-science/" rel="external nofollow noopener" target="_blank">The Open Science Manual</a>: A guide to open science practices, including reproducibility and data sharing.</li> </ul> <h2 id="conclusion">Conclusion</h2> <p>Docker is a game-changer for bioinformatics, making workflows more reproducible, scalable, and shareable. Whether you’re running a single tool or a complex pipeline, Docker ensures that your research remains reliable and accessible across different environments.</p> <p>Happy Dockering!</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/2025-02-27-docker-for-bioinformatics.bib"></d-bibliography> <d-article> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/physiology-phd/">Beats of Stress</a> </li> <br> <br> <div id="giscus_thread"> <script>
      let giscusTheme = determineComputedTheme();
      let giscusAttributes = {
        src: 'https://giscus.app/client.js',
        'data-repo': 'abhilesh/abhilesh.github.io',
        'data-repo-id': 'R_kgDOJpvB_A',
        'data-category': 'General',
        'data-category-id': 'DIC_kwDOJpvB_M4CfjtG',
        'data-mapping': 'title',
        'data-strict': '0',
        'data-reactions-enabled': '1',
        'data-emit-metadata': '0',
        'data-input-position': 'top',
        'data-theme': giscusTheme,
        'data-lang': 'en',
        crossorigin: 'anonymous',
        async: '',
      };

      let giscusScript = document.createElement('script');
      Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
      document.getElementById('giscus_thread').appendChild(giscusScript);
    </script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </d-article> </div> <d-footer> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2025 Abhilesh Dhawanjewar. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> </d-footer> <script src="/assets/libs/jquery/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="/assets/libs/mdb/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/overrides.js"></script> <script defer src="/assets/libs/medium_zoom/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script defer type="text/javascript" id="MathJax-script" src="/assets/libs/mathjax/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="/assets/libs/polyfill/polyfill.min.js" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-M1BWYLLR80"></script> <script defer src="/assets/js/google-analytics-setup.js?12374742c4b1801ba82226e617af7e2d"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/tabs.min.js?b8748955e1076bbe0dabcf28f2549fdc"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>